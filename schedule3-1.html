
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>í•™êµ ì‹œê°„í‘œ & ìˆ˜í–‰í‰ê°€ ìº˜ë¦°ë”</title>
  <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css' rel='stylesheet' />
  <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js'></script>
 
  <style>
    body { font-family: Arial, sans-serif; text-align: center; }
    table { border-collapse: collapse; width: 80%; margin: 20px auto; }
    th, td { border: 1px solid #444; padding: 10px; }
    th { background: #4CAF50; color: white; }
    #calendar { max-width: 900px; margin: 40px auto; }
  </style>
</head>
<body>
  <h1>ğŸ“š ìš°ë¦¬ ë°˜ ì‹œê°„í‘œ</h1>
  <table>
    <tr>
      <th>êµì‹œ</th><th>ì›”</th><th>í™”</th><th>ìˆ˜</th><th>ëª©</th><th>ê¸ˆ</th>
    </tr>
  <tr><td>1êµì‹œ</td><td>G</td><td>G</td><td>F</td><td>A</td><td>D</td></tr>
<tr><td>2êµì‹œ</td><td>E</td><td>B</td><td>A</td><td>F</td><td>C</td></tr>
<tr><td>3êµì‹œ</td><td>A</td><td>A</td><td>B</td><td>G</td><td>E</td></tr>
<tr><td>4êµì‹œ</td><td>C</td><td>F</td><td>G</td><td>E</td><td>B</td></tr>
<tr><td>5êµì‹œ</td><td>F</td><td>C</td><td>ì°½ì²´</td><td>D</td><td>C</td></tr>
<tr><td>6êµì‹œ</td><td>D</td><td>D</td><td>ì°½ì²´</td><td>B</td><td>E</td></tr>
<tr><td>7êµì‹œ</td><td>ììŠµ</td><td>ììŠµ</td><td>ììœ¨</td><td>ììŠµ</td><td>ììŠµ</td></tr>
  </table>

  <h2>ğŸ“ ìˆ˜í–‰í‰ê°€ ìº˜ë¦°ë”</h2>
  <div id='calendar'></div>

  <script>
    const STORAGE_KEY = 'performanceAssessmentEvents';
    function loadEvents() {
        const json = localStorage.getItem(STORAGE_KEY);
        return json ? JSON.parse(json) : [];
    }

    function updateLocalStorage(calendar) {
        const allEvents = calendar.getEvents().map(event => ({
            id: event.id,
            title: event.title,
            start: event.startStr
        }));
        localStorage.setItem(STORAGE_KEY, JSON.stringify(allEvents));
    }

    document.addEventListener('DOMContentLoaded', function() {
        const calendarEl = document.getElementById('calendar');
        const initialEvents = loadEvents();

        const calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            editable: false,
            selectable: true,
            // ë¡œë“œí•œ ì´ˆê¸° ì´ë²¤íŠ¸ ëª©ë¡ì„ ìº˜ë¦°ë”ì— ì„¤ì •
            events: initialEvents,

            // ìƒˆ ì´ë²¤íŠ¸ ì¶”ê°€ ì‹œ
            dateClick: function(info) {
                const title = prompt("ìˆ˜í–‰í‰ê°€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”:");
                if (!title) return;

                calendar.addEvent({
                    id: Date.now().toString(),
                    title: title,
                    start: info.dateStr
                });
                updateLocalStorage(calendar);
            },
           
            eventClick: function(info) {
                const action = prompt(
                    `ìˆ˜í–‰í‰ê°€ ìˆ˜ì •/ì‚­ì œ:\n- ìˆ˜ì •í•˜ë ¤ë©´ ìƒˆ ë‚´ìš© ì…ë ¥\n- ì‚­ì œí•˜ë ¤ë©´ 'ì‚­ì œ' ì…ë ¥`
                );
                if (!action) return;
               
                if (action.toLowerCase() === 'ì‚­ì œ') {
                    info.event.remove(); // ìº˜ë¦°ë”ì—ì„œ ì´ë²¤íŠ¸ ì œê±°
                } else {
                    info.event.setProp('title', action); // ì´ë²¤íŠ¸ ì œëª© ì—…ë°ì´íŠ¸
                }
               
                // ì´ë²¤íŠ¸ ë³€ê²½ í›„ ì €ì¥ì†Œ ì—…ë°ì´íŠ¸
                updateLocalStorage(calendar);
            }
        });

        calendar.render();
    });
  </script>
</body>
</html>
